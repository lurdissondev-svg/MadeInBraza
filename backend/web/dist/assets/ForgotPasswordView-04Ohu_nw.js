import{d as y,r as u,c as f,a as s,b as e,t as c,j as g,e as k,w as b,v as w,n as h,i as _,k as V,o as a,x as C}from"./index-B3S1dV94.js";const M={class:"min-h-screen bg-dark-900 flex flex-col justify-center px-4 py-8 sm:px-6 lg:px-8"},B={class:"w-full max-w-md mx-auto"},j={class:"card"},z={key:0,class:"text-center space-y-4"},E={class:"text-gray-400"},F={key:0,class:"text-red-400 text-sm text-center bg-red-500/10 rounded-lg p-3"},L=["disabled"],N={key:0,class:"flex items-center justify-center gap-2"},R={key:1},D={class:"mt-8 text-center text-gray-500 text-xs sm:text-sm"},T=y({__name:"ForgotPasswordView",setup(P){const m=V(),r=u(""),n=u(!1),l=u(null),i=u(null),d=f(()=>r.value.trim().length>=3);async function x(){if(d.value){n.value=!0,l.value=null,i.value=null;try{const o=await C.requestPasswordReset({nick:r.value.trim()});i.value=o.message}catch(o){l.value=o instanceof Error?o.message:"Erro ao recuperar senha"}finally{n.value=!1}}}function p(){m.push("/login")}return(o,t)=>(a(),s("div",M,[t[7]||(t[7]=e("div",{class:"text-center mb-8"},[e("h1",{class:"text-3xl sm:text-4xl font-bold text-primary-500"}," Made in Braza "),e("p",{class:"mt-2 text-gray-400 text-sm sm:text-base"}," Recupere sua senha ")],-1)),e("div",B,[e("div",j,[i.value?(a(),s("div",z,[t[1]||(t[1]=e("div",{class:"w-16 h-16 mx-auto bg-blue-500/20 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),t[2]||(t[2]=e("h2",{class:"text-xl font-semibold text-gray-100"},"Verifique seu Email!",-1)),e("p",E,c(i.value),1),t[3]||(t[3]=e("p",{class:"text-sm text-gray-500"}," O link expira em 1 hora ",-1)),e("button",{onClick:p,class:"btn-primary w-full py-3"}," Ir para Login ")])):(a(),s("form",{key:1,onSubmit:g(x,["prevent"]),class:"space-y-6"},[t[6]||(t[6]=e("div",{class:"text-center mb-4"},[e("p",{class:"text-sm text-gray-400"}," Um link de recuperacao sera enviado para seu email cadastrado ")],-1)),e("div",null,[t[4]||(t[4]=e("label",{for:"nick",class:"label"},"Nick",-1)),b(e("input",{id:"nick","onUpdate:modelValue":t[0]||(t[0]=v=>r.value=v),type:"text",autocomplete:"username",placeholder:"Seu nick no jogo",class:h(["input",{"input-error":l.value}])},null,2),[[w,r.value]])]),l.value?(a(),s("div",F,c(l.value),1)):k("",!0),e("button",{type:"submit",disabled:!d.value||n.value,class:"btn-primary w-full py-3 text-base font-semibold"},[n.value?(a(),s("span",N,[...t[5]||(t[5]=[e("svg",{class:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),_(" Enviando... ",-1)])])):(a(),s("span",R,"Enviar Link de Recuperacao"))],8,L),e("div",{class:"text-center"},[e("button",{type:"button",onClick:p,class:"text-sm text-gray-400 hover:text-gray-300 transition-colors"}," ← Voltar para login ")])],32))])]),e("div",D,[e("p",null,"Made in Braza © "+c(new Date().getFullYear()),1)])]))}});export{T as default};
