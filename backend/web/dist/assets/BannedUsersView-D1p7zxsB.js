import{u as g}from"./members-heJih1TZ.js";import{_ as x}from"./MainLayout.vue_vue_type_script_setup_true_lang-CIQawBsX.js";import{_ as u}from"./LoadingSpinner.vue_vue_type_script_setup_true_lang-DLfi4Sx-.js";import{C as y}from"./ConfirmDialog-BhnHTZZy.js";import{d as v,r as k,E as _,A as d,C as h,o,b as e,a,e as m,f as s,B as C,t as l,F as b,q as U,G as w}from"./index-BCVEqFNE.js";import"./braza_logo-Cfl0RS0W.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"space-y-4"},D={key:0,class:"flex justify-center py-12"},$={key:1,class:"card bg-red-900/20 border border-red-500/30"},j={class:"text-red-400"},z={key:2,class:"card text-center py-8"},A={key:3,class:"space-y-2"},M={class:"text-sm text-gray-400"},N={class:"flex items-center gap-3"},S={class:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center text-red-400 font-bold text-lg"},V={class:"flex-1 min-w-0"},E={class:"font-semibold text-gray-100 truncate block"},T={class:"flex items-center gap-2 text-sm text-gray-400"},q=["onClick","disabled"],F={key:0,class:"fixed bottom-20 left-4 right-4 bg-red-500/90 text-white px-4 py-3 rounded-lg flex items-center justify-between z-50"},Q=v({__name:"BannedUsersView",setup(I){const t=g(),i=k(null);_(()=>{t.fetchBannedUsers()});function p(c){try{return new Date(c).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"})}catch{return"-"}}async function f(){i.value&&(await t.unbanUser(i.value.id),i.value=null)}return(c,n)=>(o(),d(x,null,{default:h(()=>[e("div",B,[n[7]||(n[7]=e("h2",{class:"text-xl font-bold text-gray-100"},"Usuários Banidos",-1)),s(t).loadingBanned&&s(t).bannedUsers.length===0?(o(),a("div",D,[C(u)])):s(t).error&&s(t).bannedUsers.length===0?(o(),a("div",$,[e("p",j,l(s(t).error),1),e("button",{onClick:n[0]||(n[0]=r=>s(t).fetchBannedUsers()),class:"mt-4 btn btn-primary"}," Tentar novamente ")])):s(t).bannedUsers.length===0?(o(),a("div",z,[...n[3]||(n[3]=[e("svg",{class:"w-16 h-16 mx-auto text-gray-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("p",{class:"text-gray-400"},"Nenhum usuário banido",-1)])])):(o(),a("div",A,[e("p",M,l(s(t).bannedUsers.length)+" usuário(s) banido(s) ",1),(o(!0),a(b,null,U(s(t).bannedUsers,r=>(o(),a("div",{key:r.id,class:"card border-l-4 border-l-red-500"},[e("div",N,[e("div",S,l(r.nick.charAt(0).toUpperCase()),1),e("div",V,[e("span",E,l(r.nick),1),e("div",T,[e("span",null,l(s(w)[r.playerClass]),1),n[4]||(n[4]=e("span",null,"•",-1)),e("span",null,"Banido em "+l(p(r.createdAt)),1)])]),e("button",{onClick:L=>i.value=r,disabled:s(t).unbanningId===r.id,class:"px-4 py-2 rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-colors disabled:opacity-50 flex items-center gap-2"},[s(t).unbanningId===r.id?(o(),d(u,{key:0,size:"sm"})):(o(),a(b,{key:1},[n[5]||(n[5]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n[6]||(n[6]=e("span",null,"Desbanir",-1))],64))],8,q)])]))),128))]))]),s(t).error&&s(t).bannedUsers.length>0?(o(),a("div",F,[e("span",null,l(s(t).error),1),e("button",{onClick:n[1]||(n[1]=r=>s(t).clearError()),class:"ml-4 font-bold"},"OK")])):m("",!0),i.value?(o(),d(y,{key:1,title:"Desbanir Usuário",message:`Tem certeza que deseja desbanir ${i.value.nick}? O usuário poderá solicitar entrada novamente.`,"confirm-text":"Desbanir",onConfirm:f,onCancel:n[2]||(n[2]=r=>i.value=null)},null,8,["message"])):m("",!0)]),_:1}))}});export{Q as default};
